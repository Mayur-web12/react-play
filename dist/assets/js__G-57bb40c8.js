import{j as e,r as i}from"./vendor_react-dcf4a6d8.js";import{P as g,f as $}from"./index-1b1444f7.js";import{a as x}from"./vendor__A-998befa2.js";/* empty css               */const C=({username:s,avatar:r,link:l})=>e.jsx("a",{className:" bg-cover bg-center h-[15rem] w-[15rem] rounded-lg flex flex-col justify-end",href:l,rel:"noreferrer",style:{backgroundImage:`url(${r})`},target:"_blank",children:e.jsx("h1",{className:"text-2xl text-center xs:bg-black p-2 w-full rounded-lg text-white lg:h-full lg:opacity-0 lg:hover:opacity-80 lg:hover:bg-black ",children:s})});function H(s){var b,j;const[r,l]=i.useState({query:"",response_size:30}),[t,c]=i.useState({data:null,remaining_searches:0,time_until_reset:null}),[o,h]=i.useState({loading:!1,error:!1}),d=a=>new Date(a*1e3).toLocaleTimeString(),u=async()=>{const a=await x.get("https://api.github.com/rate_limit"),n=d(a.data.resources.search.reset),p=a.data.resources.search.remaining-1;p>1&&h(m=>({...m,error:!1})),c(m=>({...m,remaining_searches:p,time_until_reset:n}))},k=async()=>{const a=await x.get(`https://api.github.com/search/users?q=${r.query}&per_page=${r.response_size}`);c(n=>({...n,data:a.data.items}))},S=async()=>{try{h(a=>({...a,loading:!0})),await u(),await k(),h(a=>({...a,loading:!1}))}catch{h(n=>({...n,loading:!1,error:!0})),c(n=>({...n,data:null}))}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"play-details",children:[e.jsx(g,{play:s}),e.jsx("div",{className:"play-details-body",children:e.jsxs("div",{className:" w-full flex items-center justify-center flex-col gap-4",children:[e.jsxs("form",{className:"flex flex-col gap-2",onSubmit:a=>a.preventDefault(),children:[e.jsxs("label",{className:"text-center",htmlFor:"user_name",children:["Who are you searching for ?"," "]}),e.jsx("input",{autoFocus:!0,required:!0,className:" rounded-lg p-2 text-center",id:"user_name",inputMode:"text",placeholder:"Enter query here",type:"search",value:r.query,onChange:a=>l(n=>({...n,query:a.target.value}))}),e.jsx("label",{htmlFor:"response_size",children:"Maximum number of results you want to see at once:"}),e.jsx("input",{className:" rounded-lg p-2 text-center",id:"response_size",inputMode:"numeric",max:"100",min:"1",type:"number",value:r.response_size,onChange:a=>l(n=>({...n,response_size:a.target.value}))}),e.jsx("p",{className:"text-xs text-neutral-500 text-center",children:"Default value is 30"}),e.jsx("button",{className:"bg-[#00f2fe] p-2 rounded-xl disabled:text-gray-500 disabled:cursor-not-allowed disabled:bg-[#00bbc5]",type:"submit",onClick:()=>{r.query!==""&&S()},children:"Search"})]}),t.remaining_searches>=0&&e.jsxs("p",{children:["No. of searches remaining : ",t.remaining_searches]}),o.loading&&e.jsx("h2",{children:" L O A D I N G . . ."}),e.jsx("h2",{className:" text-red-500",children:o.error&&`You have exhausted your search limit. Try again after ${t.time_until_reset}`}),((b=t==null?void 0:t.data)==null?void 0:b.length)===0&&e.jsx("h1",{className:"text-3xl text-center",children:"No matching GitHub User Profile"}),!o.error&&e.jsx("div",{className:"grid gap-2 grid-cols-[repeat(auto-fit,minmax(15rem,1fr))] w-full place-items-center",children:(j=t==null?void 0:t.data)==null?void 0:j.map(({id:a,login:n,avatar_url:p,html_url:m})=>e.jsx(C,{avatar:p,link:m,username:n},a))})]})})]})})}const v=i.createContext(),f="https://api.github.com/users/",R=({children:s})=>{const[r,l]=i.useState(""),[t,c]=i.useState([]),o=d=>{x({method:"get",url:`${f}${d}`}).then(u=>{l(u.data)})},h=d=>{x({method:"get",url:`${f}${d}/repos?sort=created`}).then(u=>{c(u.data)})};return e.jsx(v.Provider,{value:{getRepos:h,getUser:o,results:r,repoDetails:t},children:s})},y=()=>i.useContext(v),U=()=>{const{getRepos:s,getUser:r}=y(),[l,t]=i.useState(""),c=o=>{o.preventDefault(),r(l),s(l),t("")};return e.jsxs("form",{className:"nirban-github-profile-form",onSubmit:c,children:[e.jsx("input",{autoFocus:!0,required:!0,className:"nirban-github-profile-search",placeholder:"Search Username",tabIndex:0,value:l,onChange:o=>t(o.target.value)}),e.jsx("button",{className:"nirban-github-profile-btn",type:"submit",children:"Search"})]})},F=()=>{const{results:s,repoDetails:r}=y(),l=t=>e.jsx("div",{children:e.jsx("h2",{className:"nirban-github-profile-repo-link",children:e.jsx("strong",{children:e.jsx("a",{href:`${t.html_url}`,rel:"noreferrer",target:"_blank",children:t.name.length>15?t.name.slice(0,15):t.name})})})},t.id);return e.jsx("div",{children:s?e.jsx("div",{className:"nirban-github-profile-results",children:e.jsx("div",{className:"nirban-github-profile-results-body",children:e.jsxs("div",{children:[e.jsxs("div",{className:"nirban-github-profile-details",children:[e.jsx("img",{alt:`${s.name}`,className:"nirban-github-profile-avatar",src:`${s.avatar_url}`}),e.jsx("a",{href:`${s.html_url}`,rel:"noreferrer",target:"_blank",children:e.jsx("h2",{className:"nirban-github-profile-link",children:s.name===""?s.login:s.name})})]}),e.jsxs("div",{className:"nirban-github-profile-results-info",children:[e.jsxs("div",{children:[s.bio===""?"":e.jsxs("h2",{className:"nirban-github-profile-bio",children:[e.jsx("strong",{children:"Bio:"})," ",s.bio]}),s.location===""?"":e.jsxs("p",{className:"nirban-github-profile-location",children:[e.jsx("strong",{children:"Location:"})," ",s.location]}),s.twitter_username===""?"":e.jsxs("p",{className:"nirban-github-profile-twitter",children:[e.jsx("strong",{children:"Twitter:"})," ",e.jsx("a",{href:`https://twitter.com/${s.twitter_username}`,rel:"noreferrer",target:"_blank",children:s.twitter_username})]}),e.jsxs("ul",{className:"nirban-github-profile-socials",children:[e.jsxs("li",{children:[e.jsx("strong",{children:s.followers})," Followers"]}),e.jsxs("li",{children:[e.jsx("strong",{children:s.following})," Following"]}),e.jsxs("li",{children:[e.jsx("strong",{children:s.public_repos})," Repos"]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"nirban-github-profile-repos-heading",children:"Latest repositories"}),e.jsx("div",{className:"nirban-github-profile-repos",children:r==null?void 0:r.map(l).slice(0,5)})]})]})]})})}):e.jsx("div",{className:"nirban-github-profile-no-user",children:e.jsx("p",{children:"No users to show"})})})};function L(s){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"play-details nirban-github-profile",children:[e.jsx(g,{play:s}),e.jsx("div",{className:"play-details-body",children:e.jsx("div",{className:"play-body nirban-github-profile-body",children:e.jsxs(R,{children:[e.jsx("h1",{className:"play-heading nirban-github-profile-heading",children:"Github Profile Search"}),e.jsx(U,{}),e.jsx("div",{className:"nirban-github-profile-result",children:e.jsx(F,{})})]})})})]})})}const _=i.createContext(),N="https://api.github.com/users/",D=({children:s})=>{const[r,l]=i.useState(""),[t,c]=i.useState([]),o=d=>{x({method:"get",url:`${N}${d}`}).then(u=>{l(u.data)})},h=d=>{x({method:"get",url:`${N}${d}/repos?sort=created`}).then(u=>{c(u.data)})};return e.jsx(_.Provider,{value:{getRepos:h,getUser:o,results:r,repoDetails:t},children:s})},w=()=>i.useContext(_),G=()=>{const{getUser:s}=w(),[r,l]=i.useState(""),t=()=>{s(r),l("")};return e.jsxs("div",{className:"flex justify-center input-card",children:[e.jsx("input",{id:"username",placeholder:"Enter User Name",title:"user-name",type:"search",value:r,onChange:c=>l(c.target.value)}),e.jsxs("button",{className:"text-black search-btn",onClick:t,children:[e.jsx("span",{className:"text-black",children:"Find"}),e.jsxs("div",{id:"clip",children:[e.jsx("div",{className:"corner",id:"leftTop"}),e.jsx("div",{className:"corner",id:"rightBottom"}),e.jsx("div",{className:"corner",id:"rightTop"}),e.jsx("div",{className:"corner",id:"leftBottom"})]}),e.jsx("span",{className:"arrow",id:"rightArrow"}),e.jsx("span",{className:"arrow",id:"leftArrow"})]})]})},P=()=>{const{results:s}=w();return e.jsxs("div",{className:"profile-card m-auto p-8",children:[s.avatar_url?e.jsx("img",{alt:"User Image",className:"avatar flex self-center",src:s.avatar_url}):e.jsx("p",{}),e.jsx("h1",{className:"text-xl font-bold text-black name flex justify-center",children:s.name}),e.jsx("h2",{className:"joined text-lg text-black",children:$(s.created_at)}),e.jsx("p",{className:"para text-base",children:s.bio}),e.jsxs("div",{className:"data flex justify-around m-4 p-4",children:[e.jsxs("div",{className:"flex flex-col text-black font-bold text-lg",children:[e.jsx("p",{children:" Repo:"}),e.jsx("p",{className:"self-center",children:s.public_repos})]}),e.jsxs("div",{className:"flex flex-col text-black font-bold text-lg",children:[e.jsx("p",{children:" Followers:"}),e.jsx("p",{className:"self-center",children:s.followers})]}),e.jsxs("div",{className:"flex flex-col text-black font-bold text-lg",children:[e.jsx("p",{children:" Following:"}),e.jsx("p",{className:"self-center",children:s.following})]})]}),e.jsx("button",{className:"btn",children:e.jsx("a",{href:s.html_url,target:"_blank",children:"Go!"})})]})};function A(s){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"play-details",children:[e.jsx(g,{play:s}),e.jsx("div",{className:"play-details-body",children:e.jsx(D,{children:e.jsxs("div",{className:"flex justify-center flex-col p-8 m-8 App guf",children:[e.jsx(G,{}),e.jsx(P,{})]})})})]})})}export{H as G,L as a,A as b};
