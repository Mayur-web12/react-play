import{j as n,r as p}from"./vendor_react-dcf4a6d8.js";import{P as O}from"./index-1b1444f7.js";/* empty css               */function o({dispatch:r,digit:i}){return n.jsx("button",{onClick:()=>r({type:t.ADD_DIGIT,payload:{digit:i}}),children:i})}function a({dispatch:r,operation:i}){return n.jsx("button",{onClick:()=>r({type:t.CHOOSE_OPERATION,payload:{operation:i}}),children:i})}function x({currentOperand:r,previousOperand:i,operation:u,dispatch:e,formatOperand:l}){return n.jsx("div",{className:"calculator_grid_container",children:n.jsxs("div",{className:"calculator_grid",children:[n.jsxs("div",{className:"output",children:[n.jsxs("div",{className:"previous_operand",children:[l(i)," ",u]}),n.jsx("div",{className:"current_operand",children:l(r)})]}),n.jsx("button",{className:"span_two ac",onClick:()=>e({type:t.CLEAR}),children:"AC"}),n.jsx("button",{onClick:()=>e({type:t.DELETE_DIGIT}),children:"DEL"}),n.jsx(a,{dispatch:e,operation:"รท"}),n.jsx(o,{digit:"1",dispatch:e}),n.jsx(o,{digit:"2",dispatch:e}),n.jsx(o,{digit:"3",dispatch:e}),n.jsx(a,{dispatch:e,operation:"*"}),n.jsx(o,{digit:"4",dispatch:e}),n.jsx(o,{digit:"5",dispatch:e}),n.jsx(o,{digit:"6",dispatch:e}),n.jsx(a,{dispatch:e,operation:"+"}),n.jsx(o,{digit:"7",dispatch:e}),n.jsx(o,{digit:"8",dispatch:e}),n.jsx(o,{digit:"9",dispatch:e}),n.jsx(a,{dispatch:e,operation:"-"}),n.jsx(o,{digit:".",dispatch:e}),n.jsx(o,{digit:"0",dispatch:e}),n.jsx("button",{className:"span_two",onClick:()=>e({type:t.EVALUATE}),children:"="})]})})}const t={ADD_DIGIT:"add-digit",CHOOSE_OPERATION:"choose-operation",CLEAR:"clear",DELETE_DIGIT:"delete-digit",EVALUATE:"evaluate"};function j(r,{type:i,payload:u}){switch(i){case t.ADD_DIGIT:return r.overwrite?{...r,currentOperand:u.digit,overwrite:!1}:u.digit==="0"&&r.currentOperand==="0"||u.digit==="."&&r.currentOperand.includes(".")?r:{...r,currentOperand:`${r.currentOperand||""}${u.digit}`};case t.CHOOSE_OPERATION:return r.currentOperand==null&&r.previousOperand==null?r:r.currentOperand==null?{...r,operation:u.operation}:r.previousOperand==null?{...r,operation:u.operation,previousOperand:r.currentOperand,currentOperand:null}:{...r,previousOperand:d(r),operation:u.operation,currentOperand:null};case t.CLEAR:return{};case t.DELETE_DIGIT:return r.overwrite?{...r,overwrite:!1,currentOperand:null}:r.currentOperand==null?r:r.currentOperand.length===1?{...r,currentOperand:null}:{...r,currentOperand:r.currentOperand.slice(0,-1)};case t.EVALUATE:return r.operation==null||r.currentOperand==null||r.previousOperand==null?r:{...r,overwrite:!0,previousOperand:null,operation:null,currentOperand:d(r)}}}function d({currentOperand:r,previousOperand:i,operation:u}){const e=parseFloat(i),l=parseFloat(r);if(isNaN(e)||isNaN(l))return"";let c="";switch(u){case"+":c=e+l;break;case"-":c=e-l;break;case"*":c=e*l;break;case"รท":c=e/l;break}return c.toString()}const s=new Intl.NumberFormat("en-us",{maximumFractionDigits:0});function E(r){if(r==null)return;const[i,u]=r.split(".");return u==null?s.format(i):`${s.format(i)}.${u}`}function v(r){const[{currentOperand:i,previousOperand:u,operation:e},l]=p.useReducer(j,{});return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"play-details",children:[n.jsx(O,{play:r}),n.jsx("div",{className:"play-details-body",children:n.jsx(x,{currentOperand:i,dispatch:l,formatOperand:E,operation:e,previousOperand:u})})]})})}export{v as B};
