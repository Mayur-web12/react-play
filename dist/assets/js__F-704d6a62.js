import{r as o,j as e}from"./vendor_react-dcf4a6d8.js";import{P as _}from"./index-1b1444f7.js";/* empty css               */import{c as I,o as L}from"./fun-quiz-6d49a395.js";function R(d){const[r,t]=o.useState(!1),a=()=>{t(!r)};return e.jsxs("div",{className:"card-container",children:[e.jsx("div",{className:`item front ${r?"rotate-180":""}`,onClick:a}),e.jsx("div",{className:`item back ${r?"rotate-360":""}`,onClick:a,children:d.item})]})}function V(d){const r=["Spread love everywhere you go.","if you love someone give them infinite space.","The happiest people are the givers not the takers.","The journey of a thousand miles begins with one step."];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"play-details",children:[e.jsx(_,{play:d}),e.jsx("div",{className:"play-details-body",children:e.jsxs("div",{className:"flip-card",children:[e.jsx("h1",{className:"heading",children:"Flip Card Effect"}),e.jsx("h3",{className:"sub-heading",children:"Click any card to flip"}),e.jsx("div",{className:"container",children:r.map((t,a)=>e.jsx(R,{item:t},a))}),e.jsxs("p",{className:"sub-heading",children:["Inspired by"," ",e.jsx("strong",{children:e.jsx("a",{className:"external-link",href:"https://aaronccwong.github.io/react-card-flip/",rel:"noopener noreferrer",target:"_blank",children:"react-card-flip"})}),"library"]})]})})]})})}const b={answer:"",cheat:!1,cheated:!1};function $({category:d,getQuizSummary:r}){var C,k;const[t,a]=o.useState({loading:!1,data:[],error:!1}),[n,h]=o.useState({...b}),[x,j]=o.useState([]),[l,s]=o.useState(0),[u,m]=o.useState(30),p=d==="all"?"":`&category=${d}`,c=(C=t==null?void 0:t.data)==null?void 0:C[l],f=o.useRef(t);o.useEffect(()=>{(async()=>{try{a({...f.current,loading:!0});const i=await fetch(`https://opentdb.com/api.php?amount=20${p}&type=multiple`),{results:w}=await i.json();if(!w.length)throw new Error;const y=w.map(N=>{const{incorrect_answers:E,correct_answer:z}=N,g=[...E];return g==null||g.splice(Math.floor(Math.random()*(g.length+1)),0,z),{...N,options:g}});return a({data:y,loading:!1,error:!1})}catch{a({...f.current,loading:!1,error:!0})}})()},[p,f]);const q=i=>()=>{h(n.answer&&n.answer===i?b:{...n,answer:i})},v=o.useCallback((i=!1)=>{const w=()=>{const y=i?"":n.answer;j(N=>[...N,{question:c.question,correct:c.correct_answer===y,your_answer:y,correct_answer:c.correct_answer,cheated:n.cheated}])};if(l===19)return w(),r([...x,{question:c.question,correct:c.correct_answer===n.answer,your_answer:n.answer,correct_answer:c.correct_answer,cheated:n.cheated}]);w(),h(b),m(30),s(l+1)},[n,l,c,x,r]);o.useEffect(()=>{if(u!==-1&&t.data.length){const i=setInterval(()=>{m(u-1)},1e3);return()=>clearInterval(i)}else t.data.length&&(h(""),v(!0))},[u,v,t.data]);const A=()=>{h({cheat:!0,cheated:!0,answer:c.correct_answer});const i=setTimeout(()=>{h({...b,cheated:!0}),clearTimeout(i)},500)},T=i=>n.cheat&&n.answer===i?"option-button blinking-options":n.answer===i&&!n.cheat?"option-button active-option":"option-button";return t!=null&&t.error?e.jsx("div",{children:"We Apologize! Something Error Occured!"}):e.jsxs("div",{className:"fun-quiz-screen",children:[t.loading&&e.jsx("div",{className:"loading-overlay",children:e.jsx("img",{alt:"loading",src:I})}),!t.loading&&e.jsxs("div",{className:"section",children:[e.jsx("div",{className:`timer ${u<=5&&"caution"}`,children:u}),e.jsxs("div",{className:"question-info",children:["Question: ",l+1]}),e.jsx("div",{className:"question",children:e.jsx("h1",{dangerouslySetInnerHTML:{__html:c==null?void 0:c.question}})}),e.jsx("div",{className:"options",children:(k=c==null?void 0:c.options)==null?void 0:k.map((i,w)=>e.jsx("div",{className:"single-opt",children:e.jsx("div",{className:T(i),dangerouslySetInnerHTML:{__html:i},onClick:q(i)})},w))}),e.jsxs("div",{className:"footer",children:[e.jsx("button",{className:"link",onClick:()=>v(!0),children:"Skip"}),n.answer&&!n.cheat&&e.jsx("button",{className:"confirm-button",onClick:()=>v(),children:l===19?"Submit":"Confirm"}),!n.answer&&e.jsx("button",{className:"cheat-button",onClick:A,children:"I want to Cheat"})]})]})]})}const S="CATEGORY_SELECTION",H="RULES_DISPLAY",Y=({getSelectedCategory:d})=>{const[r,t]=o.useState(""),[a,n]=o.useState(S),h=()=>{r&&n(H)},x=()=>e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"1. There will be 20 Unique Questions."}),e.jsx("p",{children:"2. Every Question will have 4 multiple choices to chooose."}),e.jsx("p",{children:"3. Among 4 options only one option will be correct answer of the Question."}),e.jsx("p",{children:"4. Answer selection isn't mandatory. You can skip choosing any answer and it will be counted as incorrect answer."}),e.jsx("p",{children:"5. After answer confirmation you cannot go back to previous question or donot refresh the page otherwise you will lose you progress."}),e.jsx("p",{children:"6. You will be given 30 seconds to answer each question and timeup is considered as an incorrect answer and next question will be displayed."}),e.jsx("p",{children:"7. After selecting an option you can click on selected option to unselect it."}),e.jsx("p",{children:"8. You can use cheats to cheat the answer."}),e.jsx("div",{className:"front-footer",children:e.jsx("button",{onClick:()=>d(r),children:"Yes, Lets Start!"})}),e.jsx("div",{children:e.jsx("button",{className:"back",onClick:()=>n(S),children:"Â« Back"})})]}),j=()=>e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"The Quiz app requires to have a specefic category in order to start with. Select one of the below options in which you have expertise in."}),e.jsx("div",{className:"selectable-options",children:L.map(s=>e.jsx("div",{className:`single-selection ${r===s.id&&"active-selected"}`,onClick:()=>t(s.id),children:s.name},s.id))}),e.jsx("div",{className:"front-footer",children:e.jsx("button",{onClick:h,children:"Let me in"})})]}),l=a===S;return e.jsx("div",{className:"fun-quiz-main",children:e.jsxs("div",{className:"main-child",children:[e.jsx("h1",{children:l?"Quiz App":"Quiz Rules"}),l&&e.jsx(j,{}),!l&&e.jsx(x,{})]})})},F=({quizSummary:d,redirectHome:r})=>{const{correctAnswers:t,cheatedAnswers:a,wrongAnswers:n,result:h}=d,[x,j]=o.useState({}),l=({currentQuestion:s})=>Object.keys(s).length?e.jsxs("div",{className:`display-question ${s.correct?"correct":"incorrect"}`,children:[e.jsxs("div",{className:"question-number",children:["Question: ",s==null?void 0:s.qNo]}),e.jsx("li",{dangerouslySetInnerHTML:{__html:`${s==null?void 0:s.question}`}}),e.jsx("span",{dangerouslySetInnerHTML:{__html:`<br/><b>Ans</b>: ${s==null?void 0:s.correct_answer}<br/>`}}),e.jsx("span",{dangerouslySetInnerHTML:{__html:`<b>Your Answer</b>: ${s==null?void 0:s.your_answer}`}})]}):!1;return e.jsx(o.Fragment,{children:e.jsx("div",{className:"fun-quiz-main",children:e.jsxs("div",{className:"main-child",children:[e.jsx("h1",{children:"Quiz Summary"}),a?e.jsx("h2",{className:"cheated",children:"You Cheated!"}):e.jsx("h2",{className:"congrats",children:"Congratulations!"}),e.jsxs("div",{className:"quiz-summary",children:[e.jsxs("div",{children:[e.jsxs("h4",{children:[e.jsx("span",{children:t}),e.jsx("span",{children:"Correct Answers"})]}),!!a&&e.jsxs("h4",{className:"cheated",children:["(",a," cheated)"]})]}),e.jsxs("div",{children:[e.jsx("span",{children:n}),e.jsx("span",{children:"Wrong Answers"})]})]}),e.jsx("div",{className:"front-footer",children:e.jsx("button",{onClick:r,children:"Home"})}),e.jsx("div",{className:"circle-area",children:h.map((s,u)=>e.jsx("div",{className:s.correct?"circle-correct":"circle-incorrect",onClick:()=>j({...s,qNo:u+1}),children:u+1},`${s.question+u}`))}),e.jsx(l,{currentQuestion:x})]})})})};function B(d){const[r,t]=o.useState(""),[a,n]=o.useState(!1),[h,x]=o.useState({}),[j]=o.useState(!1),l=(m=[],p)=>m.reduce((c,f)=>c+=f[p]?1:0,0),s=(m=[])=>{if(m.length===20){n(!0);const p=l(m,"correct"),c=l(m,"cheated"),f=20-p;return x({correctAnswers:p,cheatedAnswers:c,wrongAnswers:f,result:m})}},u=()=>{n(!1),t("")};return j?e.jsx("h1",{children:"This Page is under Maintenance"}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"play-details",children:[e.jsx(_,{play:d}),e.jsxs("div",{className:"play-details-body fun-quiz",children:[!r&&!a&&e.jsx(Y,{getSelectedCategory:t}),r&&!a&&e.jsx($,{category:r,getQuizSummary:s}),a&&e.jsx(F,{quizSummary:h,redirectHome:u})]})]})})}export{V as F,B as a};
