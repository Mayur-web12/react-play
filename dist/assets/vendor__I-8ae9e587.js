import{g as Se}from"./index-1b1444f7.js";var Ye=Ee,Ie=Object.prototype.toString;function Ee(e){if(!e)return!1;var t=Ie.call(e);return t==="[object Function]"||typeof e=="function"&&t!=="[object RegExp]"||typeof window<"u"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Me=function(t){return t!=null&&typeof t=="object"&&Array.isArray(t)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Be=Me;function ue(e){return Be(e)===!0&&Object.prototype.toString.call(e)==="[object Object]"}var qe=function(t){var r,n;return!(ue(t)===!1||(r=t.constructor,typeof r!="function")||(n=r.prototype,ue(n)===!1)||n.hasOwnProperty("isPrototypeOf")===!1)},ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae=(typeof window>"u"?"undefined":ce(window))==="object"&&(typeof document>"u"?"undefined":ce(document))==="object"&&document.nodeType===9;const Re=Object.freeze(Object.defineProperty({__proto__:null,default:ae,isBrowser:ae},Symbol.toStringTag,{value:"Module"})),et=Se(Re);function g(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function I(e){return!!e&&!!e[d]}function E(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Ce}(e)||Array.isArray(e)||!!e[ve]||!!(!((t=e.constructor)===null||t===void 0)&&t[ve])||Y(e)||q(e))}function M(e,t,r){r===void 0&&(r=!1),k(e)===0?(r?Object.keys:R)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,o){return t(o,n,e)})}function k(e){var t=e[d];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Y(e)?2:q(e)?3:0}function B(e,t){return k(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ke(e,t){return k(e)===2?e.get(t):e[t]}function ge(e,t,r){var n=k(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Pe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Y(e){return Ne&&e instanceof Map}function q(e){return Te&&e instanceof Set}function S(e){return e.o||e.t}function ee(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=we(e);delete t[d];for(var r=R(t),n=0;n<r.length;n++){var o=r[n],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function te(e,t){return t===void 0&&(t=!1),re(e)||I(e)||!E(e)||(k(e)>1&&(e.set=e.add=e.clear=e.delete=xe),Object.freeze(e),t&&M(e,function(r,n){return te(n,!0)},!0)),e}function xe(){g(2)}function re(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function P(e){var t=H[e];return t||g(18,e),t}function Fe(e,t){H[e]||(H[e]=t)}function J(){return F}function C(e,t){t&&(P("Patches"),e.u=[],e.s=[],e.v=t)}function L(e){X(e),e.p.forEach(_e),e.p=null}function X(e){e===F&&(F=e.l)}function fe(e){return F={p:[],l:F,h:e,m:!0,_:0}}function _e(e){var t=e[d];t.i===0||t.i===1?t.j():t.g=!0}function W(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||P("ES5").S(t,e,n),n?(r[d].P&&(L(t),g(4)),E(e)&&(e=N(t,e),t.l||T(t,e)),t.u&&P("Patches").M(r[d].t,e,t.u,t.s)):e=N(t,r,[]),L(t),t.u&&t.v(t.u,t.s),e!==Oe?e:void 0}function N(e,t,r){if(re(t))return t;var n=t[d];if(!n)return M(t,function(c,a){return se(e,n,t,c,a,r)},!0),t;if(n.A!==e)return t;if(!n.P)return T(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=ee(n.k):n.o,i=o,u=!1;n.i===3&&(i=new Set(o),o.clear(),u=!0),M(i,function(c,a){return se(e,n,o,c,a,r,u)}),T(e,o,!1),r&&e.u&&P("Patches").N(n,r,e.u,e.s)}return n.o}function se(e,t,r,n,o,i,u){if(I(o)){var c=N(e,o,i&&t&&t.i!==3&&!B(t.R,n)?i.concat(n):void 0);if(ge(r,n,c),!I(c))return;e.m=!1}else u&&r.add(o);if(E(o)&&!re(o)){if(!e.h.D&&e._<1)return;N(e,o),t&&t.A.l||T(e,o)}}function T(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&te(t,r)}function K(e,t){var r=e[d];return(r?S(r):e)[t]}function le(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function z(e){e.o||(e.o=ee(e.t))}function G(e,t,r){var n=Y(t)?P("MapSet").F(t,r):q(t)?P("MapSet").T(t,r):e.O?function(o,i){var u=Array.isArray(o),c={i:u?1:0,A:i?i.A:J(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},a=c,f=_;u&&(a=[c],f=x);var s=Proxy.revocable(a,f),p=s.revoke,l=s.proxy;return c.k=l,c.j=p,l}(t,r):P("ES5").J(t,r);return(r?r.A:J()).p.push(n),n}function Le(e){return I(e)||g(22,e),function t(r){if(!E(r))return r;var n,o=r[d],i=k(r);if(o){if(!o.P&&(o.i<4||!P("ES5").K(o)))return o.t;o.I=!0,n=de(r,i),o.I=!1}else n=de(r,i);return M(n,function(u,c){o&&ke(o.t,u)===c||ge(n,u,t(c))}),i===3?new Set(n):n}(e)}function de(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ee(e)}function tt(){function e(i,u){var c=o[i];return c?c.enumerable=u:o[i]=c={configurable:!0,enumerable:u,get:function(){var a=this[d];return _.get(a,i)},set:function(a){var f=this[d];_.set(f,i,a)}},c}function t(i){for(var u=i.length-1;u>=0;u--){var c=i[u][d];if(!c.P)switch(c.i){case 5:n(c)&&D(c);break;case 4:r(c)&&D(c)}}}function r(i){for(var u=i.t,c=i.k,a=R(c),f=a.length-1;f>=0;f--){var s=a[f];if(s!==d){var p=u[s];if(p===void 0&&!B(u,s))return!0;var l=c[s],y=l&&l[d];if(y?y.t!==p:!Pe(l,p))return!0}}var b=!!u[d];return a.length!==R(u).length+(b?0:1)}function n(i){var u=i.k;if(u.length!==i.t.length)return!0;var c=Object.getOwnPropertyDescriptor(u,u.length-1);if(c&&!c.get)return!0;for(var a=0;a<u.length;a++)if(!u.hasOwnProperty(a))return!0;return!1}var o={};Fe("ES5",{J:function(i,u){var c=Array.isArray(i),a=function(s,p){if(s){for(var l=Array(p.length),y=0;y<p.length;y++)Object.defineProperty(l,""+y,e(y,!0));return l}var b=we(p);delete b[d];for(var h=R(b),O=0;O<h.length;O++){var w=h[O];b[w]=e(w,s||!!b[w].enumerable)}return Object.create(Object.getPrototypeOf(p),b)}(c,i),f={i:c?5:4,A:u?u.A:J(),P:!1,I:!1,R:{},l:u,t:i,k:a,o:null,g:!1,C:!1};return Object.defineProperty(a,d,{value:f,writable:!0}),a},S:function(i,u,c){c?I(u)&&u[d].A===i&&t(i.p):(i.u&&function a(f){if(f&&typeof f=="object"){var s=f[d];if(s){var p=s.t,l=s.k,y=s.R,b=s.i;if(b===4)M(l,function(v){v!==d&&(p[v]!==void 0||B(p,v)?y[v]||a(l[v]):(y[v]=!0,D(s)))}),M(p,function(v){l[v]!==void 0||B(l,v)||(y[v]=!1,D(s))});else if(b===5){if(n(s)&&(D(s),y.length=!0),l.length<p.length)for(var h=l.length;h<p.length;h++)y[h]=!1;else for(var O=p.length;O<l.length;O++)y[O]=!0;for(var w=Math.min(l.length,p.length),j=0;j<w;j++)l.hasOwnProperty(j)||(y[j]=!0),y[j]===void 0&&a(l[j])}}}}(i.p[0]),t(i.p))},K:function(i){return i.i===4?r(i):n(i)}})}var pe,F,ne=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ne=typeof Map<"u",Te=typeof Set<"u",ye=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Oe=ne?Symbol.for("immer-nothing"):((pe={})["immer-nothing"]=!0,pe),ve=ne?Symbol.for("immer-draftable"):"__$immer_draftable",d=ne?Symbol.for("immer-state"):"__$immer_state",Ce=""+Object.prototype.constructor,R=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,we=Object.getOwnPropertyDescriptors||function(e){var t={};return R(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},H={},_={get:function(e,t){if(t===d)return e;var r=S(e);if(!B(r,t))return function(o,i,u){var c,a=le(i,u);return a?"value"in a?a.value:(c=a.get)===null||c===void 0?void 0:c.call(o.k):void 0}(e,r,t);var n=r[t];return e.I||!E(n)?n:n===K(e.t,t)?(z(e),e.o[t]=G(e.A.h,n,e)):n},has:function(e,t){return t in S(e)},ownKeys:function(e){return Reflect.ownKeys(S(e))},set:function(e,t,r){var n=le(S(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=K(S(e),t),i=o==null?void 0:o[d];if(i&&i.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(Pe(r,o)&&(r!==void 0||B(e.t,t)))return!0;z(e),D(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return K(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,z(e),D(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=S(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){g(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){g(12)}},x={};M(_,function(e,t){x[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),x.deleteProperty=function(e,t){return x.set.call(this,e,t,void 0)},x.set=function(e,t,r){return _.set.call(this,e[0],t,r,e[0])};var We=function(){function e(r){var n=this;this.O=ye,this.D=!0,this.produce=function(o,i,u){if(typeof o=="function"&&typeof i!="function"){var c=i;i=o;var a=n;return function(h){var O=this;h===void 0&&(h=c);for(var w=arguments.length,j=Array(w>1?w-1:0),v=1;v<w;v++)j[v-1]=arguments[v];return a.produce(h,function(Ae){var ie;return(ie=i).call.apply(ie,[O,Ae].concat(j))})}}var f;if(typeof i!="function"&&g(6),u!==void 0&&typeof u!="function"&&g(7),E(o)){var s=fe(n),p=G(n,o,void 0),l=!0;try{f=i(p),l=!1}finally{l?L(s):X(s)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return C(s,u),W(h,s)},function(h){throw L(s),h}):(C(s,u),W(f,s))}if(!o||typeof o!="object"){if((f=i(o))===void 0&&(f=o),f===Oe&&(f=void 0),n.D&&te(f,!0),u){var y=[],b=[];P("Patches").M(o,f,y,b),u(y,b)}return f}g(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(f){for(var s=arguments.length,p=Array(s>1?s-1:0),l=1;l<s;l++)p[l-1]=arguments[l];return n.produceWithPatches(f,function(y){return o.apply(void 0,[y].concat(p))})};var u,c,a=n.produce(o,i,function(f,s){u=f,c=s});return typeof Promise<"u"&&a instanceof Promise?a.then(function(f){return[f,u,c]}):[a,u,c]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){E(r)||g(8),I(r)&&(r=Le(r));var n=fe(this),o=G(this,r,void 0);return o[d].C=!0,X(n),o},t.finishDraft=function(r,n){var o=r&&r[d],i=o.A;return C(i,n),W(void 0,i)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!ye&&g(20),this.O=r},t.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var i=n[o];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}o>-1&&(n=n.slice(o+1));var u=P("Patches").$;return I(r)?u(r,n):this.produce(r,function(c){return u(c,n)})},e}(),m=new We,rt=m.produce;m.produceWithPatches.bind(m);m.setAutoFreeze.bind(m);m.setUseProxies.bind(m);m.applyPatches.bind(m);m.createDraft.bind(m);m.finishDraft.bind(m);const Ke=(e,t)=>t.some(r=>e instanceof r);let he,be;function ze(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $e(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const je=new WeakMap,Q=new WeakMap,De=new WeakMap,$=new WeakMap,oe=new WeakMap;function Ue(e){const t=new Promise((r,n)=>{const o=()=>{e.removeEventListener("success",i),e.removeEventListener("error",u)},i=()=>{r(A(e.result)),o()},u=()=>{n(e.error),o()};e.addEventListener("success",i),e.addEventListener("error",u)});return t.then(r=>{r instanceof IDBCursor&&je.set(r,e)}).catch(()=>{}),oe.set(t,e),t}function Ve(e){if(Q.has(e))return;const t=new Promise((r,n)=>{const o=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",u),e.removeEventListener("abort",u)},i=()=>{r(),o()},u=()=>{n(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",i),e.addEventListener("error",u),e.addEventListener("abort",u)});Q.set(e,t)}let Z={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Q.get(e);if(t==="objectStoreNames")return e.objectStoreNames||De.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return A(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Je(e){Z=e(Z)}function Xe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(U(this),t,...r);return De.set(n,t.sort?t.sort():[t]),A(n)}:$e().includes(e)?function(...t){return e.apply(U(this),t),A(je.get(this))}:function(...t){return A(e.apply(U(this),t))}}function Ge(e){return typeof e=="function"?Xe(e):(e instanceof IDBTransaction&&Ve(e),Ke(e,ze())?new Proxy(e,Z):e)}function A(e){if(e instanceof IDBRequest)return Ue(e);if($.has(e))return $.get(e);const t=Ge(e);return t!==e&&($.set(e,t),oe.set(t,e)),t}const U=e=>oe.get(e);function nt(e,t,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const u=indexedDB.open(e,t),c=A(u);return n&&u.addEventListener("upgradeneeded",a=>{n(A(u.result),a.oldVersion,a.newVersion,A(u.transaction))}),r&&u.addEventListener("blocked",()=>r()),c.then(a=>{i&&a.addEventListener("close",()=>i()),o&&a.addEventListener("versionchange",()=>o())}).catch(()=>{}),c}const He=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],V=new Map;function me(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(V.get(t))return V.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=Qe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||He.includes(r)))return;const i=async function(u,...c){const a=this.transaction(u,o?"readwrite":"readonly");let f=a.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[r](...c),o&&a.done]))[0]};return V.set(t,i),i}Je(e=>({...e,get:(t,r,n)=>me(t,r)||e.get(t,r,n),has:(t,r)=>!!me(t,r)||e.has(t,r)}));export{tt as F,Ye as a,qe as b,I as c,rt as f,ae as i,nt as o,et as r,E as t};
